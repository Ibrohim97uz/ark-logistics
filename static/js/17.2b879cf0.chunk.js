(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[17],{1111:function(e,t,c){},1170:function(e,t,c){"use strict";c.r(t);var a=c(16),i=c(0),n=c(1096),l=c(1065),s=c(1054),r=c(180),o=c(1086),d=c(554),j=c(1),b=function(e){e.alertOpen,e.setAlertOpen;var t=e.addNewOpen,c=e.setAddNewOpen,a=Object(d.a)().t;return Object(j.jsxs)("div",{className:"flex flex-1 w-full items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex flex-col w-full sm:w-auto",children:[Object(j.jsxs)("div",{className:"flex items-center mb-4",children:[Object(j.jsx)(s.a,{className:"text-18",color:"action",children:"home"}),Object(j.jsx)(s.a,{className:"text-16",color:"action",children:"chevron_right"}),Object(j.jsx)(r.a,{color:"textSecondary",className:"font-medium",children:a("Certficates")})]}),Object(j.jsx)(r.a,{variant:"h6",className:"text-18 sm:text-24 font-semibold",children:a("Certficates")})]}),!t&&Object(j.jsx)(o.a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:Object(j.jsx)(l.a,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return c(!0)},children:a("Add new")})})]})},u=c(360),O=c(41),m=c(1138),p=c(273),x=c(1116),h=c.n(x),f=c(1134),v=c(1135),N=c(1136),g=c(1095),y=c(1012);function w(e){var t=e.data,c=e.goToSinglePage,a=e.setAlertOpen,i=e.setId,n=(Object(d.a)().t,localStorage.getItem("locale"));return Object(j.jsx)(f.a,{children:null===t||void 0===t?void 0:t.map((function(e,t){var l,s;return Object(j.jsxs)(v.a,{className:"h-72 cursor-pointer",hover:!0,tabIndex:-1,children:[Object(j.jsxs)(N.a,{onClick:function(){return null===c||void 0===c?void 0:c(e._id)},className:"p-4 md:p-16",component:"th",scope:"row",children:[t+1,"."]}),Object(j.jsx)(N.a,{onClick:function(){return null===c||void 0===c?void 0:c(e._id)},className:"p-4 md:p-16 ",component:"th",scope:"row",children:(null===e||void 0===e||null===(l=e.image)||void 0===l?void 0:l.src)&&Object(j.jsx)(g.a,{style:{margin:"auto"},src:"https://ark-logistics.herokuapp.com"+(null===e||void 0===e||null===(s=e.image)||void 0===s?void 0:s.src)})}),Object(j.jsx)(N.a,{onClick:function(){return null===c||void 0===c?void 0:c(e._id)},className:"p-4 md:p-16 text-center",component:"th",scope:"row",children:null===e||void 0===e?void 0:e.title[n]}),Object(j.jsx)(N.a,{onClick:function(){return null===c||void 0===c?void 0:c(e._id)},className:"p-4 md:p-16 text-center",component:"th",scope:"row",children:null===e||void 0===e?void 0:e.description[n]}),Object(j.jsx)(N.a,{onClick:function(){return null===c||void 0===c?void 0:c(e._id)},className:"p-4 md:p-16 text-center",component:"th",scope:"row",children:e.date}),Object(j.jsx)(N.a,{onClick:function(){return null===c||void 0===c?void 0:c(e._id)},className:"p-4 md:p-16 text-center",component:"th",scope:"row",children:e.type}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",component:"th",scope:"row",children:Object(j.jsx)(y.a,{onClick:function(){i(e._id),a(!0)},children:Object(j.jsx)(h.a,{})})})]},t)}))})}var C=c(1137),A=function(e){var t=Object(d.a)().t;return Object(j.jsx)(C.a,{children:Object(j.jsxs)(v.a,{className:"h-48 sm:h-64",children:[Object(j.jsx)(N.a,{className:"p-4 md:p-16 ",children:"\u2116"}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",children:t("Image")}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",children:t("Title")}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",children:t("Description")}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",children:t("Date")}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",children:t("Type")}),Object(j.jsx)(N.a,{className:"p-4 md:p-16 text-center",children:t("Delete")})]})})},D=c(6),k=c(1132),S=c(1084),T=c(1091),U=c(1061),E=c(1064),W=c(1087),_=c(1060),z=c(62),I=c(9),R=(c(1111),function(e){var t=e.handleFetch,c=e.setAddNewOpen,n=Object(d.a)().t,s=Object(I.b)(),o=Object(p.a)(),b=Object(i.useState)({title:{uz:"",ru:"",en:""},description:{uz:"",ru:"",en:""},type:"firm"}),u=Object(a.a)(b,2),O=u[0],m=u[1],x=Object(i.useState)(),h=Object(a.a)(x,2),f=h[0],v=h[1],N=Object(i.useState)(),y=Object(a.a)(N,2),w=y[0],C=y[1];Object(i.useEffect)((function(){if(f){var e=URL.createObjectURL(f);C(e)}else C(void 0)}),[f]);var A=function(e,t){var c=new FormData;return c.append("certificate",JSON.stringify(e)),t&&c.append("certificate",t,null===t||void 0===t?void 0:t.name),c};return Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e,a,i){e.preventDefault();var n=i(Object(D.a)({},O),a);o.mutateAsync(n).then((function(e){t(),c()})).catch((function(e){s(Object(z.c)({message:e.message}))}))}(e,f,A)},children:Object(j.jsxs)(S.a,{children:[Object(j.jsxs)("div",{className:"flex justify-center items-center flex-col",children:[Object(j.jsx)("div",{className:"w-256 h-256 certificate-image-wrapper",children:Object(j.jsx)(g.a,{className:"certificate-image",src:w})}),Object(j.jsx)("div",{className:"flex flex-column justify-center mt-12",children:Object(j.jsx)("label",{className:"label",htmlFor:"file",children:Object(j.jsx)(k.a,{})})}),Object(j.jsx)("input",{type:"file",accept:"image/gif, image/jpeg,image/jpg, image/png",name:"image",id:"file",style:{display:"none"},onChange:function(e){e.target.files&&0!==e.target.files.length?v(e.target.files[0]):v(void 0)}})]}),Object(j.jsxs)("div",{className:"mb-24",children:[Object(j.jsx)(r.a,{className:"font-semibold mb-16 text-15",children:n("Title UZ")}),Object(j.jsx)(T.a,{fullWidth:!0,id:"outlined-multiline-static",label:n("Title UZ"),multiline:!0,value:O.title.uz,onChange:function(e){return m(Object(D.a)(Object(D.a)({},O),{},{title:Object(D.a)(Object(D.a)({},O.title),{},{uz:e.target.value})}))},variant:"outlined"})]}),Object(j.jsxs)("div",{className:"mb-24",children:[Object(j.jsx)(r.a,{className:"font-semibold mb-16 text-15",children:n("Title RU")}),Object(j.jsx)(T.a,{fullWidth:!0,id:"outlined-multiline-static",label:n("Title RU"),multiline:!0,value:O.title.ru,onChange:function(e){return m(Object(D.a)(Object(D.a)({},O),{},{title:Object(D.a)(Object(D.a)({},O.title),{},{ru:e.target.value})}))},variant:"outlined"})]}),Object(j.jsxs)("div",{className:"mb-24",children:[Object(j.jsx)(r.a,{className:"font-semibold mb-16 text-15",children:n("Title EN")}),Object(j.jsx)(T.a,{fullWidth:!0,id:"outlined-multiline-static",label:n("Title EN"),multiline:!0,value:O.title.en,onChange:function(e){return m(Object(D.a)(Object(D.a)({},O),{},{title:Object(D.a)(Object(D.a)({},O.title),{},{en:e.target.value})}))},variant:"outlined"})]}),Object(j.jsxs)("div",{className:"mb-24",children:[Object(j.jsx)(r.a,{className:"font-semibold mb-16 text-15",children:n("Description UZ")}),Object(j.jsx)(T.a,{fullWidth:!0,id:"outlined-multiline-static",label:n("Description UZ"),multiline:!0,value:O.description.uz,onChange:function(e){return m(Object(D.a)(Object(D.a)({},O),{},{description:Object(D.a)(Object(D.a)({},O.description),{},{uz:e.target.value})}))},variant:"outlined"})]}),Object(j.jsxs)("div",{className:"mb-24",children:[Object(j.jsx)(r.a,{className:"font-semibold mb-16 text-15",children:n("Description RU")}),Object(j.jsx)(T.a,{fullWidth:!0,id:"outlined-multiline-static",label:n("Description RU"),multiline:!0,value:O.description.ru,onChange:function(e){return m(Object(D.a)(Object(D.a)({},O),{},{description:Object(D.a)(Object(D.a)({},O.description),{},{ru:e.target.value})}))},variant:"outlined"})]}),Object(j.jsxs)("div",{className:"mb-24",children:[Object(j.jsx)(r.a,{className:"font-semibold mb-16 text-15",children:n("Description EN")}),Object(j.jsx)(T.a,{fullWidth:!0,id:"outlined-multiline-static",label:n("Description EN"),multiline:!0,value:O.description.en,onChange:function(e){return m(Object(D.a)(Object(D.a)({},O),{},{description:Object(D.a)(Object(D.a)({},O.description),{},{en:e.target.value})}))},variant:"outlined"})]}),Object(j.jsx)("div",{className:"mb-24",children:Object(j.jsxs)(U.a,{className:"w-full",children:[Object(j.jsx)(E.a,{id:"type",children:n("Type")}),Object(j.jsxs)(W.a,{labelId:"type",id:"type-select",value:"staff"===O.type?2:1,onChange:function(e){e.preventDefault(),function(e){e.preventDefault(),1===e.target.value?m(Object(D.a)(Object(D.a)({},O),{},{type:"firm"})):m(Object(D.a)(Object(D.a)({},O),{},{type:"staff"}))}(e)},children:[Object(j.jsx)(_.a,{value:1,children:n("firm")}),Object(j.jsx)(_.a,{value:2,children:n("staff")})]})]})}),Object(j.jsx)("div",{className:"mb-24",children:Object(j.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",children:n("Submit")})})]})})}),F=c(1076),L=c(1049),Z=c(1130),J=c(1129),P=c(1080);var q=function(e){var t=e.alertOpen,c=e.setAlertOpen,a=e.deleteData,i=Object(d.a)().t;return Object(j.jsxs)(L.a,{className:"dialog",open:t,fullWidth:!0,maxWidth:"sm",children:[Object(j.jsx)(F.a,{position:"static",elevation:0,children:Object(j.jsx)(P.a,{className:"flex w-full",children:Object(j.jsx)(r.a,{variant:"subtitle1",color:"inherit",children:i("Delete Certificate")})})}),Object(j.jsx)(J.a,{classes:{root:"pt-32"},children:"Are you sure delete?"}),Object(j.jsxs)(Z.a,{className:"justify-start px-8 pb-16 pt-16",children:[Object(j.jsx)("div",{className:"pl-16",children:Object(j.jsx)(l.a,{onClick:function(){return c(!1)},type:"submit",variant:"contained",color:"secondary",children:"Cancel"})}),Object(j.jsx)("div",{className:"pl-16",children:Object(j.jsx)(l.a,{onClick:function(){a(),c(!1)},variant:"contained",color:"secondary",style:{backgroundColor:"#e53e3e",color:"#fff"},children:"Yes,delete!"})})]})]})},H=function(e){var t=e.props,c=e.addNewOpen,n=e.setAddNewOpen,l=e.alertOpen,s=e.setAlertOpen,d=Object(p.o)(),b=d.isLoading,x=d.isError,h=d.refetch,f=d.data,v=Object(i.useState)(""),N=Object(a.a)(v,2),g=N[0],y=N[1],C=Object(p.g)(g),D=Object(i.useState)([]),k=Object(a.a)(D,2),S=k[0],T=k[1];Object(i.useEffect)((function(){T(null===f||void 0===f?void 0:f.data.certificates)}),[f]);return b?Object(j.jsx)(u.a,{}):x?Object(j.jsx)(o.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:Object(j.jsx)(r.a,{color:"textSecondary",variant:"h5",children:"Error in request!"})}):0!==(null===S||void 0===S?void 0:S.length)||c?Object(j.jsxs)("div",{className:"w-full flex flex-col",children:[Object(j.jsx)(O.a,{className:"flex-grow overflow-x-auto",children:c?Object(j.jsx)(R,{handleFetch:function(){h()},isLoading:b,setAddNewOpen:n}):Object(j.jsxs)(m.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[Object(j.jsx)(A,{}),Object(j.jsx)(w,{setId:y,setAlertOpen:s,goToSinglePage:function(e){t.history.push("/apps/certificate/".concat(e),e)},data:S})]})}),Object(j.jsx)(q,{deleteData:function(){C.mutateAsync().then((function(){return h()})).catch((function(e){return console.log(e)}))},alertOpen:l,setAlertOpen:s})]}):Object(j.jsx)(o.a.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:Object(j.jsx)(r.a,{color:"textSecondary",variant:"h5",children:"There are no datas!"})})};t.default=function(e){var t=Object(i.useState)(!1),c=Object(a.a)(t,2),l=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(a.a)(r,2),d=o[0],u=o[1];return Object(j.jsx)(n.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:Object(j.jsx)(b,{addNewOpen:d,setAddNewOpen:u,alertOpen:l,setAlertOpen:s}),content:Object(j.jsx)(H,{addNewOpen:d,setAddNewOpen:u,props:e,alertOpen:l,setAlertOpen:s})})}}}]);